<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cosmosvisor | Plug Chain Documents</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Plug Chain Documents">
    
    <link rel="preload" href="/plugchain/assets/css/0.styles.fbf6b7b8.css" as="style"><link rel="preload" href="/plugchain/assets/js/app.2e263391.js" as="script"><link rel="preload" href="/plugchain/assets/js/2.12dd273a.js" as="script"><link rel="preload" href="/plugchain/assets/js/1.3f3a722d.js" as="script"><link rel="preload" href="/plugchain/assets/js/68.ba69417a.js" as="script"><link rel="prefetch" href="/plugchain/assets/js/10.390991c2.js"><link rel="prefetch" href="/plugchain/assets/js/100.0d02ebdb.js"><link rel="prefetch" href="/plugchain/assets/js/101.de03f306.js"><link rel="prefetch" href="/plugchain/assets/js/102.19d27088.js"><link rel="prefetch" href="/plugchain/assets/js/103.0697faad.js"><link rel="prefetch" href="/plugchain/assets/js/104.d86f0c02.js"><link rel="prefetch" href="/plugchain/assets/js/105.1e49e40f.js"><link rel="prefetch" href="/plugchain/assets/js/106.e161af93.js"><link rel="prefetch" href="/plugchain/assets/js/107.a78062b3.js"><link rel="prefetch" href="/plugchain/assets/js/108.504dfff0.js"><link rel="prefetch" href="/plugchain/assets/js/109.c87bbb6e.js"><link rel="prefetch" href="/plugchain/assets/js/11.549d4629.js"><link rel="prefetch" href="/plugchain/assets/js/110.3f3279b3.js"><link rel="prefetch" href="/plugchain/assets/js/111.2ec9ff03.js"><link rel="prefetch" href="/plugchain/assets/js/112.37ef8a55.js"><link rel="prefetch" href="/plugchain/assets/js/113.67a4b724.js"><link rel="prefetch" href="/plugchain/assets/js/114.25aa732e.js"><link rel="prefetch" href="/plugchain/assets/js/115.629448ee.js"><link rel="prefetch" href="/plugchain/assets/js/116.594b54e7.js"><link rel="prefetch" href="/plugchain/assets/js/117.5aab64c7.js"><link rel="prefetch" href="/plugchain/assets/js/118.1dfb4d5d.js"><link rel="prefetch" href="/plugchain/assets/js/119.117bd724.js"><link rel="prefetch" href="/plugchain/assets/js/12.2d5f8d7c.js"><link rel="prefetch" href="/plugchain/assets/js/120.abc5d137.js"><link rel="prefetch" href="/plugchain/assets/js/121.85ecb12b.js"><link rel="prefetch" href="/plugchain/assets/js/122.22ee4298.js"><link rel="prefetch" href="/plugchain/assets/js/123.88e1c304.js"><link rel="prefetch" href="/plugchain/assets/js/124.ccda17e8.js"><link rel="prefetch" href="/plugchain/assets/js/125.8dd73491.js"><link rel="prefetch" href="/plugchain/assets/js/126.ce7fe7c2.js"><link rel="prefetch" href="/plugchain/assets/js/127.98ef72ed.js"><link rel="prefetch" href="/plugchain/assets/js/128.e94a2cb8.js"><link rel="prefetch" href="/plugchain/assets/js/129.c671267a.js"><link rel="prefetch" href="/plugchain/assets/js/13.9dbc9967.js"><link rel="prefetch" href="/plugchain/assets/js/130.92377cb5.js"><link rel="prefetch" href="/plugchain/assets/js/131.b1ba325c.js"><link rel="prefetch" href="/plugchain/assets/js/132.ba697e4f.js"><link rel="prefetch" href="/plugchain/assets/js/133.311dbc81.js"><link rel="prefetch" href="/plugchain/assets/js/134.5e39b8fb.js"><link rel="prefetch" href="/plugchain/assets/js/135.61872912.js"><link rel="prefetch" href="/plugchain/assets/js/136.e5b6950f.js"><link rel="prefetch" href="/plugchain/assets/js/137.c038cf16.js"><link rel="prefetch" href="/plugchain/assets/js/138.3f03a365.js"><link rel="prefetch" href="/plugchain/assets/js/139.96f0c8ea.js"><link rel="prefetch" href="/plugchain/assets/js/14.d68e079e.js"><link rel="prefetch" href="/plugchain/assets/js/140.eb251fb1.js"><link rel="prefetch" href="/plugchain/assets/js/141.f0823149.js"><link rel="prefetch" href="/plugchain/assets/js/142.68ab4595.js"><link rel="prefetch" href="/plugchain/assets/js/143.df29c512.js"><link rel="prefetch" href="/plugchain/assets/js/144.2998c785.js"><link rel="prefetch" href="/plugchain/assets/js/145.578ba079.js"><link rel="prefetch" href="/plugchain/assets/js/146.e006f258.js"><link rel="prefetch" href="/plugchain/assets/js/147.c5757534.js"><link rel="prefetch" href="/plugchain/assets/js/148.341d2fd9.js"><link rel="prefetch" href="/plugchain/assets/js/149.568c7864.js"><link rel="prefetch" href="/plugchain/assets/js/15.7b49c0d0.js"><link rel="prefetch" href="/plugchain/assets/js/150.42a41288.js"><link rel="prefetch" href="/plugchain/assets/js/151.9dbaa28e.js"><link rel="prefetch" href="/plugchain/assets/js/152.c661c394.js"><link rel="prefetch" href="/plugchain/assets/js/153.af88dca0.js"><link rel="prefetch" href="/plugchain/assets/js/154.39bac8a6.js"><link rel="prefetch" href="/plugchain/assets/js/155.0c8a3a96.js"><link rel="prefetch" href="/plugchain/assets/js/156.0ce4bfc2.js"><link rel="prefetch" href="/plugchain/assets/js/157.653a3840.js"><link rel="prefetch" href="/plugchain/assets/js/158.ad75353f.js"><link rel="prefetch" href="/plugchain/assets/js/159.5878c6c3.js"><link rel="prefetch" href="/plugchain/assets/js/16.f8c39102.js"><link rel="prefetch" href="/plugchain/assets/js/160.35aa667c.js"><link rel="prefetch" href="/plugchain/assets/js/161.bbf95cc0.js"><link rel="prefetch" href="/plugchain/assets/js/162.44e8ac1a.js"><link rel="prefetch" href="/plugchain/assets/js/163.35cab306.js"><link rel="prefetch" href="/plugchain/assets/js/164.08e1311b.js"><link rel="prefetch" href="/plugchain/assets/js/165.3c9328c5.js"><link rel="prefetch" href="/plugchain/assets/js/166.8c443442.js"><link rel="prefetch" href="/plugchain/assets/js/167.a94bbdfc.js"><link rel="prefetch" href="/plugchain/assets/js/168.3a8c5bb0.js"><link rel="prefetch" href="/plugchain/assets/js/169.62282b50.js"><link rel="prefetch" href="/plugchain/assets/js/17.fcb5fbab.js"><link rel="prefetch" href="/plugchain/assets/js/170.628a515f.js"><link rel="prefetch" href="/plugchain/assets/js/171.1a213542.js"><link rel="prefetch" href="/plugchain/assets/js/172.e4b7c326.js"><link rel="prefetch" href="/plugchain/assets/js/173.ccab18a6.js"><link rel="prefetch" href="/plugchain/assets/js/174.8deb2109.js"><link rel="prefetch" href="/plugchain/assets/js/175.5154dba1.js"><link rel="prefetch" href="/plugchain/assets/js/176.eee56073.js"><link rel="prefetch" href="/plugchain/assets/js/177.11a003d8.js"><link rel="prefetch" href="/plugchain/assets/js/178.306f99c5.js"><link rel="prefetch" href="/plugchain/assets/js/179.574281b6.js"><link rel="prefetch" href="/plugchain/assets/js/18.bcbd48b7.js"><link rel="prefetch" href="/plugchain/assets/js/180.dae1d17c.js"><link rel="prefetch" href="/plugchain/assets/js/181.714942f1.js"><link rel="prefetch" href="/plugchain/assets/js/182.b019f903.js"><link rel="prefetch" href="/plugchain/assets/js/183.8b721cad.js"><link rel="prefetch" href="/plugchain/assets/js/184.c1dee00d.js"><link rel="prefetch" href="/plugchain/assets/js/185.dc5cb2a6.js"><link rel="prefetch" href="/plugchain/assets/js/186.4911212b.js"><link rel="prefetch" href="/plugchain/assets/js/187.f3a5f4b1.js"><link rel="prefetch" href="/plugchain/assets/js/188.aca39a35.js"><link rel="prefetch" href="/plugchain/assets/js/189.00615010.js"><link rel="prefetch" href="/plugchain/assets/js/19.19846f5e.js"><link rel="prefetch" href="/plugchain/assets/js/190.64f1154c.js"><link rel="prefetch" href="/plugchain/assets/js/191.b4f845da.js"><link rel="prefetch" href="/plugchain/assets/js/192.7ab7664a.js"><link rel="prefetch" href="/plugchain/assets/js/193.b6b7f043.js"><link rel="prefetch" href="/plugchain/assets/js/194.bde44641.js"><link rel="prefetch" href="/plugchain/assets/js/195.c0644da7.js"><link rel="prefetch" href="/plugchain/assets/js/196.e74f8384.js"><link rel="prefetch" href="/plugchain/assets/js/197.596bed3a.js"><link rel="prefetch" href="/plugchain/assets/js/198.e3529808.js"><link rel="prefetch" href="/plugchain/assets/js/20.4ccd58fb.js"><link rel="prefetch" href="/plugchain/assets/js/21.9061fb50.js"><link rel="prefetch" href="/plugchain/assets/js/22.4b8b9bad.js"><link rel="prefetch" href="/plugchain/assets/js/23.e79cbb05.js"><link rel="prefetch" href="/plugchain/assets/js/24.5b230309.js"><link rel="prefetch" href="/plugchain/assets/js/25.ac2563d5.js"><link rel="prefetch" href="/plugchain/assets/js/26.d38192db.js"><link rel="prefetch" href="/plugchain/assets/js/27.8ebc5364.js"><link rel="prefetch" href="/plugchain/assets/js/28.c4036f3e.js"><link rel="prefetch" href="/plugchain/assets/js/29.8f4509f8.js"><link rel="prefetch" href="/plugchain/assets/js/3.8389b911.js"><link rel="prefetch" href="/plugchain/assets/js/30.1c7e5c5b.js"><link rel="prefetch" href="/plugchain/assets/js/31.8e1fdf81.js"><link rel="prefetch" href="/plugchain/assets/js/32.63f1d28c.js"><link rel="prefetch" href="/plugchain/assets/js/33.6aeea9bb.js"><link rel="prefetch" href="/plugchain/assets/js/34.1ac4cc74.js"><link rel="prefetch" href="/plugchain/assets/js/35.b4fddfa0.js"><link rel="prefetch" href="/plugchain/assets/js/36.75ecea8e.js"><link rel="prefetch" href="/plugchain/assets/js/37.1f781f08.js"><link rel="prefetch" href="/plugchain/assets/js/38.fbd2f220.js"><link rel="prefetch" href="/plugchain/assets/js/39.e4a1a149.js"><link rel="prefetch" href="/plugchain/assets/js/4.f1369e75.js"><link rel="prefetch" href="/plugchain/assets/js/40.01cdf1eb.js"><link rel="prefetch" href="/plugchain/assets/js/41.a7d43018.js"><link rel="prefetch" href="/plugchain/assets/js/42.461ac8a9.js"><link rel="prefetch" href="/plugchain/assets/js/43.09d775eb.js"><link rel="prefetch" href="/plugchain/assets/js/44.b78232e3.js"><link rel="prefetch" href="/plugchain/assets/js/45.99518941.js"><link rel="prefetch" href="/plugchain/assets/js/46.39bd55bc.js"><link rel="prefetch" href="/plugchain/assets/js/47.89db4ee5.js"><link rel="prefetch" href="/plugchain/assets/js/48.d25ab8df.js"><link rel="prefetch" href="/plugchain/assets/js/49.33002121.js"><link rel="prefetch" href="/plugchain/assets/js/5.4086e1f9.js"><link rel="prefetch" href="/plugchain/assets/js/50.39418bb3.js"><link rel="prefetch" href="/plugchain/assets/js/51.bd55c7d8.js"><link rel="prefetch" href="/plugchain/assets/js/52.c6c8f30f.js"><link rel="prefetch" href="/plugchain/assets/js/53.42ecf054.js"><link rel="prefetch" href="/plugchain/assets/js/54.50c1b019.js"><link rel="prefetch" href="/plugchain/assets/js/55.1cb935aa.js"><link rel="prefetch" href="/plugchain/assets/js/56.17007d98.js"><link rel="prefetch" href="/plugchain/assets/js/57.ccd455c5.js"><link rel="prefetch" href="/plugchain/assets/js/58.5bcd1db0.js"><link rel="prefetch" href="/plugchain/assets/js/59.51c17aa0.js"><link rel="prefetch" href="/plugchain/assets/js/6.48dadba7.js"><link rel="prefetch" href="/plugchain/assets/js/60.354db873.js"><link rel="prefetch" href="/plugchain/assets/js/61.ccd73d30.js"><link rel="prefetch" href="/plugchain/assets/js/62.e457eb17.js"><link rel="prefetch" href="/plugchain/assets/js/63.4ffded9d.js"><link rel="prefetch" href="/plugchain/assets/js/64.ad2f4313.js"><link rel="prefetch" href="/plugchain/assets/js/65.11ebca54.js"><link rel="prefetch" href="/plugchain/assets/js/66.6b63cce9.js"><link rel="prefetch" href="/plugchain/assets/js/67.506dbee0.js"><link rel="prefetch" href="/plugchain/assets/js/69.c387bbe1.js"><link rel="prefetch" href="/plugchain/assets/js/7.2028ca86.js"><link rel="prefetch" href="/plugchain/assets/js/70.d1b0beef.js"><link rel="prefetch" href="/plugchain/assets/js/71.2069b18b.js"><link rel="prefetch" href="/plugchain/assets/js/72.0443d760.js"><link rel="prefetch" href="/plugchain/assets/js/73.02c899af.js"><link rel="prefetch" href="/plugchain/assets/js/74.437c07af.js"><link rel="prefetch" href="/plugchain/assets/js/75.1793471c.js"><link rel="prefetch" href="/plugchain/assets/js/76.c5237764.js"><link rel="prefetch" href="/plugchain/assets/js/77.1ecaf137.js"><link rel="prefetch" href="/plugchain/assets/js/78.139ea10f.js"><link rel="prefetch" href="/plugchain/assets/js/79.e9f3dd4f.js"><link rel="prefetch" href="/plugchain/assets/js/80.8945fd1b.js"><link rel="prefetch" href="/plugchain/assets/js/81.9c6bbdc4.js"><link rel="prefetch" href="/plugchain/assets/js/82.339c3b32.js"><link rel="prefetch" href="/plugchain/assets/js/83.2b938c0a.js"><link rel="prefetch" href="/plugchain/assets/js/84.c7f563f3.js"><link rel="prefetch" href="/plugchain/assets/js/85.e150552a.js"><link rel="prefetch" href="/plugchain/assets/js/86.cec7de05.js"><link rel="prefetch" href="/plugchain/assets/js/87.57784921.js"><link rel="prefetch" href="/plugchain/assets/js/88.5b1609ae.js"><link rel="prefetch" href="/plugchain/assets/js/89.4fa01304.js"><link rel="prefetch" href="/plugchain/assets/js/90.7a28f364.js"><link rel="prefetch" href="/plugchain/assets/js/91.bf4d4c59.js"><link rel="prefetch" href="/plugchain/assets/js/92.91f02926.js"><link rel="prefetch" href="/plugchain/assets/js/93.9a5c5fa7.js"><link rel="prefetch" href="/plugchain/assets/js/94.71c1a9c3.js"><link rel="prefetch" href="/plugchain/assets/js/95.a9f86fe3.js"><link rel="prefetch" href="/plugchain/assets/js/96.a4ef4dd1.js"><link rel="prefetch" href="/plugchain/assets/js/97.3d822dc5.js"><link rel="prefetch" href="/plugchain/assets/js/98.50279bf8.js"><link rel="prefetch" href="/plugchain/assets/js/99.a1dc9121.js"><link rel="prefetch" href="/plugchain/assets/js/vendors~docsearch.963f20fa.js">
    <link rel="stylesheet" href="/plugchain/assets/css/0.styles.fbf6b7b8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/plugchain/" class="home-link router-link-active"><!----> <span class="site-name">Plug Chain Documents</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://en.plugchain.info/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Back to Plug Chain
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/oracleNetworkProtocol/plugchain" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title">Jion us</span> <span class="arrow down"></span></button> <button type="button" aria-label="Community" class="mobile-dropdown-title"><span class="title">Jion us</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://t.me/plugchain" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Telegram
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://twitter.com/Plugchainclub" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/plugchain/get-started/cosmovisor.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/plugchain/zh/get-started/cosmovisor.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://en.plugchain.info/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Back to Plug Chain
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/oracleNetworkProtocol/plugchain" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title">Jion us</span> <span class="arrow down"></span></button> <button type="button" aria-label="Community" class="mobile-dropdown-title"><span class="title">Jion us</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://t.me/plugchain" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Telegram
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://twitter.com/Plugchainclub" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/plugchain/get-started/cosmovisor.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/plugchain/zh/get-started/cosmovisor.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Getting Started</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/plugchain/get-started/intro.html" class="sidebar-link">Introduction</a></li><li><a href="/plugchain/get-started/install.html" class="sidebar-link">Install</a></li><li><a href="/plugchain/get-started/mainnet.html" class="sidebar-link">Join mainnet</a></li><li><a href="/plugchain/get-started/testnet.html" class="sidebar-link">Join the testnet</a></li><li><a href="/plugchain/get-started/cosmovisor.html" aria-current="page" class="active sidebar-link">Cosmosvisor</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/plugchain/get-started/cosmovisor.html#design" class="sidebar-link">Design</a></li><li class="sidebar-sub-header"><a href="/plugchain/get-started/cosmovisor.html#setup" class="sidebar-link">Setup</a></li><li class="sidebar-sub-header"><a href="/plugchain/get-started/cosmovisor.html#usage" class="sidebar-link">Usage</a></li><li class="sidebar-sub-header"><a href="/plugchain/get-started/cosmovisor.html#example-simapp-upgrade" class="sidebar-link">Example: SimApp Upgrade</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Concepts</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Features</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Daemon</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CLI Client</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Endpoints</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Migration</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Pvm</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Api</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="cosmosvisor"><a href="#cosmosvisor" class="header-anchor">#</a> Cosmosvisor</h1> <p><code>cosmovisor</code> is a small process manager for Cosmos SDK application binaries that monitors the governance module for incoming chain upgrade proposals. If it sees a proposal that gets approved, <code>cosmovisor</code> can automatically download the new binary, stop the current binary, switch from the old binary to the new one, and finally restart the node with the new binary.</p> <h2 id="design"><a href="#design" class="header-anchor">#</a> Design</h2> <p>Cosmovisor is designed to be used as a wrapper for a <code>Cosmos SDK</code> app:</p> <ul><li>it will pass arguments to the associated app (configured by <code>DAEMON_NAME</code> env variable).
Running <code>cosmovisor run arg1 arg2 ....</code> will run <code>app arg1 arg2 ...</code>;</li> <li>it will manage an app by restarting and upgrading if needed;</li> <li>it is configured using environment variables, not positional arguments.</li></ul> <p><em>Note: If new versions of the application are not set up to run in-place store migrations, migrations will need to be run manually before restarting <code>cosmovisor</code> with the new binary. For this reason, we recommend applications adopt in-place store migrations.</em></p> <p><em>Note: If validators would like to enable the auto-download option (which <a href="#auto-download">we don't recommend</a>)</em></p> <h2 id="setup"><a href="#setup" class="header-anchor">#</a> Setup</h2> <h3 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h3> <p>To install the of <code>cosmovisor</code>, run the following command:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> cosmovisor <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre></div><p>You can run <code>cosmovisor --version</code> to check the Cosmovisor version (works only with Cosmovisor &gt;=1.0.0).</p> <h3 id="command-line-arguments-and-environment-variables"><a href="#command-line-arguments-and-environment-variables" class="header-anchor">#</a> Command Line Arguments And Environment Variables</h3> <p>The first argument passed to <code>cosmovisor</code> is the action for <code>cosmovisor</code> to take. Options are:</p> <ul><li><code>help</code>, <code>--help</code>, or <code>-h</code> - Output <code>cosmovisor</code> help information and check your <code>cosmovisor</code> configuration.</li> <li><code>run</code> - Run the configured binary using the rest of the provided arguments.</li> <li><code>version</code>, or <code>--version</code> - Output the <code>cosmovisor</code> version and also run the binary with the <code>version</code> argument.</li></ul> <p>All arguments passed to <code>cosmovisor run</code> will be passed to the application binary (as a subprocess). <code>cosmovisor</code> will return <code>/dev/stdout</code> and <code>/dev/stderr</code> of the subprocess as its own. For this reason, <code>cosmovisor run</code> cannot accept any command-line arguments other than those available to the application binary.</p> <p>*Note: Use of <code>cosmovisor</code> without one of the action arguments is deprecated. For backwards compatibility, if the first argument is not an action argument, <code>run</code> is assumed. However, this fallback might be removed in future versions, so it is recommended that you always provide <code>run</code>.</p> <p><code>cosmovisor</code> reads its configuration from environment variables:</p> <ul><li><code>DAEMON_HOME</code> is the location where the <code>cosmovisor/</code> directory is kept that contains the genesis binary, the upgrade binaries, and any additional auxiliary files associated with each binary (e.g. <code>$HOME/.plugchaind</code>, <code>$HOME/.regend</code>, <code>$HOME/.simd</code>, etc.).</li> <li><code>DAEMON_NAME</code> is the name of the binary itself (e.g.  <code>plugchaind</code>, <code>regend</code>, <code>simd</code>, etc.).</li> <li><code>DAEMON_ALLOW_DOWNLOAD_BINARIES</code> (<em>optional</em>), if set to <code>true</code>, will enable auto-downloading of new binaries (for security reasons, this is intended for full nodes rather than validators). By default, <code>cosmovisor</code> will not auto-download new binaries.</li> <li><code>DAEMON_RESTART_AFTER_UPGRADE</code> (<em>optional</em>, default = <code>true</code>), if <code>true</code>, restarts the subprocess with the same command-line arguments and flags (but with the new binary) after a successful upgrade. Otherwise (<code>false</code>), <code>cosmovisor</code> stops running after an upgrade and requires the system administrator to manually restart it. Note restart is only after the upgrade and does not auto-restart the subprocess after an error occurs.</li> <li><code>DAEMON_POLL_INTERVAL</code> is the interval length for polling the upgrade plan file. The value can either be a number (in milliseconds) or a duration (e.g. <code>1s</code>). Default: 1000 milliseconds.</li> <li><code>DAEMON_BACKUP_DIR</code> option to set a custom backup directory. If not set, <code>DAEMON_HOME</code> is used.</li> <li><code>UNSAFE_SKIP_BACKUP</code> (defaults to <code>false</code>), if set to <code>true</code>, upgrades directly without performing a backup. Otherwise (<code>false</code>, default) backs up the data before trying the upgrade. The default value of false is useful and recommended in case of failures and when a backup needed to rollback. We recommend using the default backup option <code>UNSAFE_SKIP_BACKUP=false</code>.</li> <li><code>DAEMON_PREUPGRADE_MAX_RETRIES</code> (defaults to <code>0</code>). The maximum number of times to call <code>pre-upgrade</code> in the application after exit status of <code>31</code>. After the maximum number of retries, cosmovisor fails the upgrade.</li></ul> <h3 id="folder-layout"><a href="#folder-layout" class="header-anchor">#</a> Folder Layout</h3> <p><code>$DAEMON_HOME/cosmovisor</code> is expected to belong completely to <code>cosmovisor</code> and the subprocesses that are controlled by it. The folder content is organized as follows:</p> <div class="language-text extra-class"><pre class="language-text"><code>.
├── current -&gt; genesis or upgrades/&amp;lt;name&gt;
├── genesis
│   └── bin
│       └── $DAEMON_NAME
└── upgrades
    └── &amp;lt;name&gt;
        ├── bin
        │   └── $DAEMON_NAME
        └── upgrade-info.json
</code></pre></div><p>The <code>cosmovisor/</code> directory incudes a subdirectory for each version of the application (i.e. <code>genesis</code> or <code>upgrades/&lt;name&gt;</code>). Within each subdirectory is the application binary (i.e. <code>bin/$DAEMON_NAME</code>) and any additional auxiliary files associated with each binary. <code>current</code> is a symbolic link to the currently active directory (i.e. <code>genesis</code> or <code>upgrades/&lt;name&gt;</code>). The <code>name</code> variable in <code>upgrades/&lt;name&gt;</code> is the URI-encoded name of the upgrade as specified in the upgrade module plan.</p> <p>Please note that <code>$DAEMON_HOME/cosmovisor</code> only stores the <em>application binaries</em>. The <code>cosmovisor</code> binary itself can be stored in any typical location (e.g. <code>/usr/local/bin</code>). The application will continue to store its data in the default data directory (e.g. <code>$HOME/.plugchaind</code>) or the data directory specified with the <code>--home</code> flag. <code>$DAEMON_HOME</code> is independent of the data directory and can be set to any location. If you set <code>$DAEMON_HOME</code> to the same directory as the data directory, you will end up with a configuation like the following:</p> <div class="language-text extra-class"><pre class="language-text"><code>.plugchaind
├── config
├── data
└── cosmovisor
</code></pre></div><h2 id="usage"><a href="#usage" class="header-anchor">#</a> Usage</h2> <p>The system administrator is responsible for:</p> <ul><li>installing the <code>cosmovisor</code> binary</li> <li>configuring the host's init system (e.g. <code>systemd</code>, <code>launchd</code>, etc.)</li> <li>appropriately setting the environmental variables</li> <li>manually installing the <code>genesis</code> folder</li> <li>manually installing the <code>upgrades/&lt;name&gt;</code> folders</li></ul> <p><code>cosmovisor</code> will set the <code>current</code> link to point to <code>genesis</code> at first start (i.e. when no <code>current</code> link exists) and then handle switching binaries at the correct points in time so that the system administrator can prepare days in advance and relax at upgrade time.</p> <p>In order to support downloadable binaries, a tarball for each upgrade binary will need to be packaged up and made available through a canonical URL. Additionally, a tarball that includes the genesis binary and all available upgrade binaries can be packaged up and made available so that all the necessary binaries required to sync a fullnode from start can be easily downloaded.</p> <p>The <code>DAEMON</code> specific code and operations (e.g. tendermint config, the application db, syncing blocks, etc.) all work as expected. The application binaries' directives such as command-line flags and environment variables also work as expected.</p> <h3 id="detecting-upgrades"><a href="#detecting-upgrades" class="header-anchor">#</a> Detecting Upgrades</h3> <p><code>cosmovisor</code> is polling the <code>$DAEMON_HOME/data/upgrade-info.json</code> file for new upgrade instructions. The file is created by the x/upgrade module in <code>BeginBlocker</code> when an upgrade is detected and the blockchain reaches the upgrade height.
The following heuristic is applied to detect the upgrade:</p> <ul><li>When starting, <code>cosmovisor</code> doesn't know much about currently running upgrade, except the binary which is <code>current/bin/</code>. It tries to read the <code>current/update-info.json</code> file to get information about the current upgrade name.</li> <li>If neither <code>cosmovisor/current/upgrade-info.json</code> nor <code>data/upgrade-info.json</code> exist, then <code>cosmovisor</code> will wait for <code>data/upgrade-info.json</code> file to trigger an upgrade.</li> <li>If <code>cosmovisor/current/upgrade-info.json</code> doesn't exist but <code>data/upgrade-info.json</code> exists, then <code>cosmovisor</code> assumes that whatever is in <code>data/upgrade-info.json</code> is a valid upgrade request. In this case <code>cosmovisor</code> tries immediately to make an upgrade according to the <code>name</code> attribute in <code>data/upgrade-info.json</code>.</li> <li>Otherwise, <code>cosmovisor</code> waits for changes in <code>upgrade-info.json</code>. As soon as a new upgrade name is recorded in the file, <code>cosmovisor</code> will trigger an upgrade mechanism.</li></ul> <p>When the upgrade mechanism is triggered, <code>cosmovisor</code> will:</p> <ol><li>if <code>DAEMON_ALLOW_DOWNLOAD_BINARIES</code> is enabled, start by auto-downloading a new binary into <code>cosmovisor/&lt;name&gt;/bin</code> (where <code>&lt;name&gt;</code> is the <code>upgrade-info.json:name</code> attribute);</li> <li>update the <code>current</code> symbolic link to point to the new directory and save <code>data/upgrade-info.json</code> to <code>cosmovisor/current/upgrade-info.json</code>.</li></ol> <h3 id="auto-download"><a href="#auto-download" class="header-anchor">#</a> Auto-Download</h3> <p>Generally, <code>cosmovisor</code> requires that the system administrator place all relevant binaries on disk before the upgrade happens. However, for people who don't need such control and want an automated setup (maybe they are syncing a non-validating fullnode and want to do little maintenance), there is another option.</p> <p><strong>NOTE: we don't recommend using auto-download</strong> because it doesn't verify in advance if a binary is available. If there will be any issue with downloading a binary, the cosmovisor will stop and won't restart an App (which could lead to a chain halt).</p> <p>If <code>DAEMON_ALLOW_DOWNLOAD_BINARIES</code> is set to <code>true</code>, and no local binary can be found when an upgrade is triggered, <code>cosmovisor</code> will attempt to download and install the binary itself based on the instructions in the <code>info</code> attribute in the <code>data/upgrade-info.json</code> file. The files is constructed by the x/upgrade module and contains data from the upgrade <code>Plan</code> object. The <code>Plan</code> has an info field that is expected to have one of the following two valid formats to specify a download:</p> <ol><li><p>Store an os/architecture -&gt; binary URI map in the upgrade plan info field as JSON under the <code>&quot;binaries&quot;</code> key. For example:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;binaries&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;linux/amd64&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://example.com/plugchain.zip?checksum=sha256:aec070645fe53ee3b3763059376134f058cc337247c978add178b6ccdfb0019f&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can include multiple binaries at once to ensure more than one environment will receive the correct binaries:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;binaries&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;linux/amd64&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://example.com/plugchain.zip?checksum=sha256:aec070645fe53ee3b3763059376134f058cc337247c978add178b6ccdfb0019f&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;linux/arm64&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://example.com/plugchain.zip?checksum=sha256:aec070645fe53ee3b3763059376134f058cc337247c978add178b6ccdfb0019f&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;darwin/amd64&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://example.com/plugchain.zip?checksum=sha256:aec070645fe53ee3b3763059376134f058cc337247c978add178b6ccdfb0019f&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>When submitting this as a proposal ensure there are no spaces. An example command using <code>plugchaind</code> could look like:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token operator">&gt;</span> plugchaind tx gov submit-proposal software-upgrade Vega <span class="token punctuation">\</span>
<span class="token parameter variable">--title</span> Vega <span class="token punctuation">\</span>
<span class="token parameter variable">--deposit</span> 100uatom <span class="token punctuation">\</span>
--upgrade-height <span class="token number">7368420</span> <span class="token punctuation">\</span>
--upgrade-info <span class="token string">'{&quot;binaries&quot;:{&quot;linux/amd64&quot;:&quot;https://github.com/cosmos/plugchain/releases/download/v6.0.0-rc1/plugchaind-v6.0.0-rc1-linux-amd64&quot;,&quot;linux/arm64&quot;:&quot;https://github.com/cosmos/plugchain/releases/download/v6.0.0-rc1/plugchaind-v6.0.0-rc1-linux-arm64&quot;,&quot;darwin/amd64&quot;:&quot;https://github.com/cosmos/plugchain/releases/download/v6.0.0-rc1/plugchaind-v6.0.0-rc1-darwin-amd64&quot;}}'</span> <span class="token punctuation">\</span>
<span class="token parameter variable">--description</span> <span class="token string">&quot;upgrade to Vega&quot;</span> <span class="token punctuation">\</span>
<span class="token parameter variable">--gas</span> <span class="token number">400000</span> <span class="token punctuation">\</span>
<span class="token parameter variable">--from</span> user <span class="token punctuation">\</span>
--chain-id <span class="token builtin class-name">test</span> <span class="token punctuation">\</span>
<span class="token parameter variable">--home</span> test/val2 <span class="token punctuation">\</span>
<span class="token parameter variable">--node</span> tcp://localhost:36657 <span class="token punctuation">\</span>
<span class="token parameter variable">--yes</span>
</code></pre></div></li> <li><p>Store a link to a file that contains all information in the above format (e.g. if you want to specify lots of binaries, changelog info, etc. without filling up the blockchain). For example:</p> <div class="language-text extra-class"><pre class="language-text"><code>https://example.com/testnet-1001-info.json?checksum=sha256:deaaa99fda9407c4dbe1d04bd49bab0cc3c1dd76fa392cd55a9425be074af01e
</code></pre></div></li></ol> <p>When <code>cosmovisor</code> is triggered to download the new binary, <code>cosmovisor</code> will parse the <code>&quot;binaries&quot;</code> field, download the new binary with <a href="https://github.com/hashicorp/go-getter" target="_blank" rel="noopener noreferrer">go-getter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, and unpack the new binary in the <code>upgrades/&lt;name&gt;</code> folder so that it can be run as if it was installed manually.</p> <p>Note that for this mechanism to provide strong security guarantees, all URLs should include a SHA 256/512 checksum. This ensures that no false binary is run, even if someone hacks the server or hijacks the DNS. <code>go-getter</code> will always ensure the downloaded file matches the checksum if it is provided. <code>go-getter</code> will also handle unpacking archives into directories (in this case the download link should point to a <code>zip</code> file of all data in the <code>bin</code> directory).</p> <p>To properly create a sha256 checksum on linux, you can use the <code>sha256sum</code> utility. For example:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>sha256sum ./testdata/repo/zip_directory/autod.zip
</code></pre></div><p>The result will look something like the following: <code>29139e1381b8177aec909fab9a75d11381cab5adf7d3af0c05ff1c9c117743a7</code>.</p> <p>You can also use <code>sha512sum</code> if you would prefer to use longer hashes, or <code>md5sum</code> if you would prefer to use broken hashes. Whichever you choose, make sure to set the hash algorithm properly in the checksum argument to the URL.</p> <h2 id="example-simapp-upgrade"><a href="#example-simapp-upgrade" class="header-anchor">#</a> Example: SimApp Upgrade</h2> <p>The following instructions provide a demonstration of <code>cosmovisor</code> using the simulation application (<code>simapp</code>) shipped with the Cosmos SDK's source code. The following commands are to be run from within the <code>cosmos-sdk</code> repository.</p> <h3 id="chain-setup"><a href="#chain-setup" class="header-anchor">#</a> Chain Setup</h3> <p>Let's create a new chain using the <code>v0.44</code> version of simapp (the Cosmos SDK demo app):</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> checkout v0.44.6
<span class="token function">make</span> build
</code></pre></div><p>Clean <code>~/.simapp</code> (never do this in a production environment):</p> <div class="language-sh extra-class"><pre class="language-sh"><code>./build/simd unsafe-reset-all
</code></pre></div><p>Set up app config:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>./build/simd config chain-id <span class="token builtin class-name">test</span>
./build/simd config keyring-backend <span class="token builtin class-name">test</span>
./build/simd config broadcast-mode block
</code></pre></div><p>Initialize the node and overwrite any previous genesis file (never do this in a production environment):</p> <div class="language-sh extra-class"><pre class="language-sh"><code>./build/simd init <span class="token builtin class-name">test</span> --chain-id <span class="token builtin class-name">test</span> <span class="token parameter variable">--overwrite</span>
</code></pre></div><p>Set the minimum gas price to <code>0stake</code> in <code>~/.simapp/config/app.toml</code>:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>minimum-gas-prices <span class="token operator">=</span> <span class="token string">&quot;0stake&quot;</span>
</code></pre></div><p>For the sake of this demonstration, amend <code>voting_period</code> in <code>genesis.json</code> to a reduced time of 20 seconds (<code>20s</code>):</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">cat</span> <span class="token operator">&lt;&lt;&lt;</span> <span class="token variable"><span class="token variable">$(</span>jq <span class="token string">'.app_state.gov.voting_params.voting_period = &quot;20s&quot;'</span> <span class="token environment constant">$HOME</span>/.simapp/config/genesis.json<span class="token variable">)</span></span> <span class="token operator">&gt;</span> <span class="token environment constant">$HOME</span>/.simapp/config/genesis.json
</code></pre></div><p>Create a validator, and setup genesis transaction:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>./build/simd keys <span class="token function">add</span> validator
./build/simd add-genesis-account validator 1000000000stake --keyring-backend <span class="token builtin class-name">test</span>
./build/simd gentx validator 1000000stake --chain-id <span class="token builtin class-name">test</span>
./build/simd collect-gentxs
</code></pre></div><h4 id="prepare-cosmovisor-and-start-the-chain"><a href="#prepare-cosmovisor-and-start-the-chain" class="header-anchor">#</a> Prepare Cosmovisor and Start the Chain</h4> <p>Set the required environment variables:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">DAEMON_NAME</span><span class="token operator">=</span>simd
<span class="token builtin class-name">export</span> <span class="token assign-left variable">DAEMON_HOME</span><span class="token operator">=</span><span class="token environment constant">$HOME</span>/.simapp
</code></pre></div><p>Set the optional environment variable to trigger an automatic app restart:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">DAEMON_RESTART_AFTER_UPGRADE</span><span class="token operator">=</span>true
</code></pre></div><p>Create the folder for the genesis binary and copy the <code>simd</code> binary:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token variable">$DAEMON_HOME</span>/cosmovisor/genesis/bin
<span class="token function">cp</span> ./build/simd <span class="token variable">$DAEMON_HOME</span>/cosmovisor/genesis/bin
</code></pre></div><p>Now you can run cosmovisor with simapp v0.44:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>cosmovisor run start
</code></pre></div><h4 id="update-app"><a href="#update-app" class="header-anchor">#</a> Update App</h4> <p>Update app to the latest version (e.g. v0.45).</p> <p>Next, we can add a migration - which is defined using <code>x/upgrade</code> <a href="https://github.com/cosmos/cosmos-sdk/blob/master/docs/core/upgrade.md" target="_blank" rel="noopener noreferrer">upgrade plan<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (you may refer to a past version if you are using an older Cosmos SDK release). In a migration we can do any deterministic state change.</p> <p>Build the new version <code>simd</code> binary:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">make</span> build
</code></pre></div><p>Create the folder for the upgrade binary and copy the <code>simd</code> binary:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token variable">$DAEMON_HOME</span>/cosmovisor/upgrades/test1/bin
<span class="token function">cp</span> ./build/simd <span class="token variable">$DAEMON_HOME</span>/cosmovisor/upgrades/test1/bin
</code></pre></div><p>Open a new terminal window and submit an upgrade proposal along with a deposit and a vote (these commands must be run within 20 seconds of each other):</p> <div class="language-sh extra-class"><pre class="language-sh"><code>./build/simd tx gov submit-proposal software-upgrade test1 <span class="token parameter variable">--title</span> upgrade <span class="token parameter variable">--description</span> upgrade --upgrade-height <span class="token number">200</span> <span class="token parameter variable">--from</span> validator <span class="token parameter variable">--yes</span>
./build/simd tx gov deposit <span class="token number">1</span> 10000000stake <span class="token parameter variable">--from</span> validator <span class="token parameter variable">--yes</span>
./build/simd tx gov vote <span class="token number">1</span> <span class="token function">yes</span> <span class="token parameter variable">--from</span> validator <span class="token parameter variable">--yes</span>
</code></pre></div><p>The upgrade will occur automatically at height 200. Note: you may need to change the upgrade height in the snippet above if your test play takes more time.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/plugchain/get-started/testnet.html" class="prev">
        Join the testnet
      </a></span> <span class="next"><a href="/plugchain/concepts/chain-id.html">
        Chain ID
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/plugchain/assets/js/app.2e263391.js" defer></script><script src="/plugchain/assets/js/2.12dd273a.js" defer></script><script src="/plugchain/assets/js/1.3f3a722d.js" defer></script><script src="/plugchain/assets/js/68.ba69417a.js" defer></script>
  </body>
</html>
