(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{457:function(t,a,s){"use strict";s.r(a);var e=s(15),n=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"常见问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),a("h3",{attrs:{id:"如何成为-plug-chain-hub-验证人"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何成为-plug-chain-hub-验证人"}},[t._v("#")]),t._v(" 如何成为 Plug Chain Hub 验证人")]),t._v(" "),a("p",[t._v("参考 "),a("RouterLink",{attrs:{to:"/zh/get-started/mainnet.html"}},[t._v("加入主网")])],1),t._v(" "),a("p",[t._v("同时也推荐您运行主网验证人之前，在"),a("RouterLink",{attrs:{to:"/zh/get-started/testnet.html"}},[t._v("测试网")]),t._v("上面测试验证人相关操作。")],1),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("想要获取更多的委托，您可以：")]),t._v(" "),a("ul",[a("li",[t._v("进行安全审计，并公开审计结果")]),t._v(" "),a("li",[t._v("开源一些 Plug Chain Hub 相关的开发工具和工作流程")]),t._v(" "),a("li",[t._v("建立自己的网站，以建立良好的品牌形象")])])]),t._v(" "),a("h3",{attrs:{id:"最低硬件要求是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最低硬件要求是什么"}},[t._v("#")]),t._v(" 最低硬件要求是什么")]),t._v(" "),a("p",[t._v("最低硬件要求请参考："),a("RouterLink",{attrs:{to:"/zh/daemon/intro.html#硬件要求"}},[t._v("硬件要求")])],1),t._v(" "),a("h3",{attrs:{id:"验证人节点的状态有哪些"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证人节点的状态有哪些"}},[t._v("#")]),t._v(" 验证人节点的状态有哪些")]),t._v(" "),a("p",[t._v("通过"),a("code",[t._v("create-validator")]),t._v("交易创建验证人后，它们可能会处于以下三种状态：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("bonded")]),t._v("：验证人在活跃验证人集合中，可参与共识并获得奖励，若行为不当会导致抵押的部分通证被罚没。")]),t._v(" "),a("li",[a("code",[t._v("unbonding")]),t._v("：\n"),a("ul",[a("li",[t._v("验证人节点行为异常且已被监禁（Jail），即被移出活跃验证人集合。监禁时长是确定的，超过监禁时长后，验证人可以发送"),a("code",[t._v("unjail")]),t._v("交易以解除监禁。")]),t._v(" "),a("li",[t._v("验证人抵押的plug数量（包括受委托）脱离了前100名，因此而成为候选人。可以通过抵押或委托更多的plug使自己进入前100名，他将即时重新获得验证人身份。")])])]),t._v(" "),a("li",[a("code",[t._v("unbonded")]),t._v("：验证人不在活跃验证人集合中，因此不能参与共识。此类验证人不会受到惩罚，也不会获得任何奖励。但仍然可以接受委托。")])]),t._v(" "),a("h3",{attrs:{id:"plug-chain-hub-有哪些不同类型的密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plug-chain-hub-有哪些不同类型的密钥"}},[t._v("#")]),t._v(" Plug Chain Hub 有哪些不同类型的密钥")]),t._v(" "),a("p",[t._v("简而言之，有两种类型的密钥：")]),t._v(" "),a("h4",{attrs:{id:"tendermint-密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tendermint-密钥"}},[t._v("#")]),t._v(" Tendermint 密钥")]),t._v(" "),a("p",[t._v("这是用于共识投票签名的唯一密钥。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("由"),a("code",[t._v("plugchaind init")]),t._v("创建节点时生成")])]),t._v(" "),a("li",[a("p",[t._v("查询bech32前缀为 "),a("code",[t._v("gxvalconspub")]),t._v(" 的共识公钥")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("plugchaind tendermint show-validator\n")])])])]),t._v(" "),a("li",[a("p",[t._v("查询bech32前缀为 "),a("code",[t._v("gxvalcons")]),t._v(" 的节点地址")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("plugchaind tendermint show-address\n")])])])]),t._v(" "),a("li",[a("p",[t._v("查询对应的节点Hex地址")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("plugchaind status "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" jq "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-r")]),t._v(" .ValidatorInfo.Address\n")])])])])]),t._v(" "),a("p",[t._v("它也存储在"),a("code",[t._v("config/priv_validator.json")]),t._v("中。")]),t._v(" "),a("h4",{attrs:{id:"应用程序密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#应用程序密钥"}},[t._v("#")]),t._v(" 应用程序密钥")]),t._v(" "),a("p",[t._v("该密钥可以通过"),a("code",[t._v("plugchaind")]),t._v("创建，用于签名交易。应用程序密钥与以"),a("code",[t._v("gxpub")]),t._v("为前缀的公钥和以"),a("code",[t._v("gx")]),t._v("为前缀的地址相关联。两者都是由"),a("code",[t._v("plugchaind keys add")]),t._v("生成的帐户密钥派生出来的。")]),t._v(" "),a("p",[t._v("注意：验证人操作员的密钥直接与应用程序密钥绑定，地址和公钥分别使用保留的前缀："),a("code",[t._v("gxvaloper")]),t._v("和"),a("code",[t._v("gxvaloperpub")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"如何备份验证人节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何备份验证人节点"}},[t._v("#")]),t._v(" 如何备份验证人节点")]),t._v(" "),a("p",[t._v("安全备份验证人节点私钥非常"),a("strong",[t._v("重要")]),t._v("，这是恢复验证人节点的唯一方法。请注意，这里指的是"),a("a",{attrs:{href:"#tendermint-key"}},[t._v("Tendermint密钥")]),t._v("。")]),t._v(" "),a("p",[t._v("如果您使用的是软件签名（tendermint的默认签名方法），则您的"),a("a",{attrs:{href:"#tendermint-key"}},[t._v("Tendermint密钥")]),t._v("位于"),a("code",[t._v("<plugchaind-home>/config/priv_validator.json")]),t._v("中。最简单的方法是备份整个config文件夹。")]),t._v(" "),a("p",[t._v("或者，您可以使用硬件更安全地管理"),a("a",{attrs:{href:"#tendermint-key"}},[t._v("Tendermint密钥")]),t._v("，例如"),a("a",{attrs:{href:"https://developers.yubico.com/YubiHSM2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("YubiHSM2"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"如何迁移-恢复验证人节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何迁移-恢复验证人节点"}},[t._v("#")]),t._v(" 如何迁移/恢复验证人节点")]),t._v(" "),a("p",[t._v("迁移验证人的方法有很多，最推荐的方法是：")]),t._v(" "),a("p",[t._v("1.在新服务器上运行"),a("RouterLink",{attrs:{to:"/zh/get-started/mainnet.html#运行全节点"}},[t._v("运行全节点")])],1),t._v(" "),a("p",[t._v("2.追赶上最新区块之后，停止验证人节点和全节点")]),t._v(" "),a("p",[t._v("3.将全节点的 "),a("code",[t._v("config")]),t._v(" 文件夹替换为验证人的")]),t._v(" "),a("p",[t._v("4.启动新的验证人节点")]),t._v(" "),a("h3",{attrs:{id:"什么是-自抵押-我如何增加-自抵押"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是-自抵押-我如何增加-自抵押"}},[t._v("#")]),t._v(' 什么是"自抵押"？我如何增加"自抵押"')]),t._v(" "),a("p",[t._v('自抵押就是给自己验证人节点的委托。可以通过从用于创建验证人的操作员帐户发送"委托"交易来增加此金额。')]),t._v(" "),a("h3",{attrs:{id:"想要成为活跃的验证人最少要抵押多少plug"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#想要成为活跃的验证人最少要抵押多少plug"}},[t._v("#")]),t._v(" 想要成为活跃的验证人最少要抵押多少plug")]),t._v(" "),a("p",[t._v("最低抵押 "),a("code",[t._v("1pc")]),t._v(",链上为 "),a("code",[t._v("1*10^6 uplugcn")]),t._v(" 即可创建验证人，但能否成为活跃的验证人取决于您的抵押（包括受委托）数量是否超过第100名验证人。")]),t._v(" "),a("h3",{attrs:{id:"验证人可以卷走委托人的资金吗"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证人可以卷走委托人的资金吗"}},[t._v("#")]),t._v(" 验证人可以卷走委托人的资金吗")]),t._v(" "),a("p",[t._v("通过委托plug给一个验证人节点，用户同时委托了对应的投票权。验证人的投票权越高，他们在共识和治理流程中的权重就越大。但这并不意味着验证人可以托管其委托人的资金。 "),a("strong",[t._v("验证人绝不可能动用其委托人的资金")]),t._v("。")]),t._v(" "),a("p",[t._v("即使验证人无法窃取委托资金，但如果验证人行为不当，委托人仍会被动承担责任和惩罚。")]),t._v(" "),a("h3",{attrs:{id:"多久选择一次验证人来提议下一个区块-它是否与抵押的plug数量有关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多久选择一次验证人来提议下一个区块-它是否与抵押的plug数量有关"}},[t._v("#")]),t._v(" 多久选择一次验证人来提议下一个区块？它是否与抵押的plug数量有关")]),t._v(" "),a("p",[t._v("被选择来提议下一个区块的验证人称为提议者。验证人被选为提议者的概率是确定的，与验证人的投票权（即绑定的plug数量）成正比。例如，如果所有验证人的投票权总额为 100 pc，而其中一个验证人的投票权为10，则此验证人将提议出约10％的区块。")]),t._v(" "),a("h3",{attrs:{id:"激励计划是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#激励计划是什么"}},[t._v("#")]),t._v(" 激励计划是什么")]),t._v(" "),a("p",[t._v("请参考"),a("RouterLink",{attrs:{to:"/zh/concepts/general-concepts.html#staking-收益"}},[t._v("Staking 收益")])],1),t._v(" "),a("h3",{attrs:{id:"运行验证人节点有哪些收益"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行验证人节点有哪些收益"}},[t._v("#")]),t._v(" 运行验证人节点有哪些收益")]),t._v(" "),a("p",[t._v("除了自抵押收益，验证人还可以从受委托的收益中赚取佣金。")]),t._v(" "),a("p",[t._v("验证人在治理中也起着重要作用。如果委托人未投票，则他们将从其验证人那里继承投票。这使验证人在生态系统中负有主要责任。")]),t._v(" "),a("h3",{attrs:{id:"什么是验证人佣金"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是验证人佣金"}},[t._v("#")]),t._v(" 什么是验证人佣金")]),t._v(" "),a("p",[t._v("验证人收益池中的收益会在验证人及其委托人之间分配，验证人可以对委托人获取的收益收取一定比例的佣金。每个验证人可以自由设置其初始佣金，每日修改佣金幅度上限和佣金比例上限。Plug Chain Hub强制每个验证人设置该参数，创建验证人后，只有佣金比例和别称可以更改。")]),t._v(" "),a("h3",{attrs:{id:"如何查询我的验证人地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何查询我的验证人地址"}},[t._v("#")]),t._v(" 如何查询我的验证人地址")]),t._v(" "),a("p",[t._v("验证人地址有2种：")]),t._v(" "),a("ul",[a("li",[t._v("验证人操作员地址，即用来创建验证人节点的"),a("a",{attrs:{href:"#%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%AF%86%E9%92%A5"}},[t._v("应用程序密钥")])])]),t._v(" "),a("p",[t._v("查询验证人的操作员地址（gxvaloper...）和pubkey（gxvaloperpub...）：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("plugchaind keys show MyKey "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--bech")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("val\n")])])]),a("ul",[a("li",[t._v("验证人节点地址，即"),a("a",{attrs:{href:"#Tendermint-%E5%AF%86%E9%92%A5"}},[t._v("Tendermint密钥")])])]),t._v(" "),a("p",[t._v("查询关联的地址（gxvalcons...）和共识pubkey（gxvalconspub...），请参考"),a("a",{attrs:{href:"#Tendermint-%E5%AF%86%E9%92%A5"}},[t._v("Tendermint密钥")])]),t._v(" "),a("h2",{attrs:{id:"常见错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见错误"}},[t._v("#")]),t._v(" 常见错误")]),t._v(" "),a("h3",{attrs:{id:"验证者四种状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证者四种状态"}},[t._v("#")]),t._v(" 验证者四种状态")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("状态(status)")]),t._v(" "),a("th",[t._v("状态码")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("状况")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("BOND_STATUS_UNSPECIFIED")]),t._v(" "),a("td",[t._v("0")]),t._v(" "),a("td",[t._v("定义了无效的验证器状态")]),t._v(" "),a("td",[t._v("无效")])]),t._v(" "),a("tr",[a("td",[t._v("BOND_STATUS_UNBONDED")]),t._v(" "),a("td",[t._v("1")]),t._v(" "),a("td",[t._v("定义了一个未绑定的验证器")]),t._v(" "),a("td",[t._v("离线")])]),t._v(" "),a("tr",[a("td",[t._v("BOND_STATUS_UNBONDING")]),t._v(" "),a("td",[t._v("2")]),t._v(" "),a("td",[t._v("定义了一个解除绑定的验证器")]),t._v(" "),a("td",[t._v("监禁")])]),t._v(" "),a("tr",[a("td",[t._v("BOND_STATUS_BONDED")]),t._v(" "),a("td",[t._v("3")]),t._v(" "),a("td",[t._v("定义了一个绑定的验证器")]),t._v(" "),a("td",[t._v("正常")])])])]),t._v(" "),a("h3",{attrs:{id:"验证者信息类似如下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证者信息类似如下"}},[t._v("#")]),t._v(" 验证者信息类似如下：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('commission:\n  commission_rates:\n    max_change_rate: "0.010000000000000000"\n    max_rate: "0.200000000000000000"\n    rate: "0.100000000000000000"\n  update_time: "2021-07-27T13:19:37.983601182Z"\nconsensus_pubkey:\n  \'@type\': /cosmos.crypto.ed25519.PubKey\n  key: 5TTh7vhc3RvibPttF29r2iC6qSNfGbJdY9sVsQHBT8w=\ndelegator_shares: "8813835048395.526196202816719238"\ndescription:\n  details: ""\n  identity: ""\n  moniker: My Validator\n  security_contact: ""\n  website: ""\njailed: true\nmin_self_delegation: "1000000"\noperator_address: gxvaloper19quyxaq87dpsxt9w2q23c4d8x3fck4fzh4u8es\nstatus: BOND_STATUS_UNBONDING\ntokens: "8466534803455"\nunbonding_height: "831092"\nunbonding_time: "2021-09-02T18:02:44.032627007Z"\n\n')])])]),a("h3",{attrs:{id:"验证人的投票权为0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证人的投票权为0"}},[t._v("#")]),t._v(" 验证人的投票权为0")]),t._v(" "),a("p",[t._v("可能是您的验证人被监禁或由于抵押（包括受委托）的plug数量排到了前100名以外。")]),t._v(" "),a("p",[t._v("如果您的验证人被监禁，可以按以下步骤操作来恢复：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("如果"),a("code",[t._v("plugchaind")]),t._v("没有运行，请重新启动：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("plugchaind start --minimum-gas-prices "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(".0001uplugcn\n")])])])]),t._v(" "),a("li",[a("p",[t._v("等待节点赶上最新的区块，检查验证人会被监禁到什么时间（了解"),a("RouterLink",{attrs:{to:"/zh/concepts/gov-params.html#slashing-模块可治理参数"}},[t._v("监禁时长")]),t._v("）：")],1),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查询验证人节点共识公钥")]),t._v("\nplugchaind tendermint show-validator "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--home")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("plugchaind-home"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用共识公钥查询节点状态")]),t._v("\nplugchaind query slashing signing-info "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("validator-conspub"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("您将可以看到 "),a("code",[t._v("Jailed Until")]),t._v(" 的时间，只有在该时间之后，您才可以执行接下来的步骤。")])]),t._v(" "),a("li",[a("p",[t._v("如果当前时间已经超过了 "),a("code",[t._v("Jailed Until")]),t._v("，即可执行"),a("RouterLink",{attrs:{to:"/zh/cli-client/slashing.html#plugchaind-tx-slashing-unjail"}},[t._v("解禁")]),t._v("操作：")],1),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("plugchaind tx slashing unjail "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--from")]),t._v(" mykey "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--fees")]),t._v(" 20uplugcn --chain-id plugchain_520-1\n")])])])]),t._v(" "),a("li",[a("p",[t._v("再次检查您的验证人，看看您的投票权是否恢复。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("plugchaind status\n")])])]),a("p",[t._v("您可能会注意到您的投票权比以前低，那是因为你被惩罚了（了解"),a("RouterLink",{attrs:{to:"/zh/concepts/gov-params.html#slashing-模块可治理参数"}},[t._v("罚款金额")]),t._v("）。")],1)])]),t._v(" "),a("h3",{attrs:{id:"plugchaind-异常退出-too-many-open-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugchaind-异常退出-too-many-open-files"}},[t._v("#")]),t._v(" "),a("code",[t._v("plugchaind")]),t._v(" 异常退出：too many open files")]),t._v(" "),a("p",[t._v("Linux可以打开（每个进程）的默认文件数是 "),a("code",[t._v("1024")]),t._v("，而 "),a("code",[t._v("plugchaind")]),t._v(" 进程会打开超过1024个文件，进而导致进程崩溃。一个快速的解决方法是执行 "),a("code",[t._v("ulimit -n 4096")]),t._v("（增加允许的打开文件数量，仅对当前会话有效），然后使用 "),a("code",[t._v("plugchaind start")]),t._v(" 重新启动。如果您使用的是systemd或其他进程管理器来启动 "),a("code",[t._v("plugchaind")]),t._v("，则最好在该级别进行一些配置。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("示例"),a("code",[t._v("systemd")]),t._v("配置：")]),t._v(" "),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# /etc/systemd/system/plugchaind.service")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Unit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("Plug Chain Hub Node\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("After")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("network"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Service")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("simple\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("ubuntu\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("WorkingDirectory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/home/ubuntu\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("ExecStart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("/home/ubuntu/go/bin/plugchaind start\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("Restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("on-failure\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("RestartSec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("LimitNOFILE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("65535")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("Install")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[t._v("WantedBy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v("multi-user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target\n")])])])]),t._v(" "),a("li",[a("p",[t._v("在Ubuntu系统中修改全局ulimit示例：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Edit limits.conf")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" /etc/security/limits.conf\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Append the following lines at the bottom")]),t._v("\n* hard nofile "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("65535")]),t._v("\n* soft nofile "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("65535")]),t._v("\nroot hard nofile "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("65535")]),t._v("\nroot soft nofile "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("65535")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Reboot the system")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reboot")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Re-login & Check whether ulimit is updated to 65535")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("ulimit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v("\n")])])])])]),t._v(" "),a("h4",{attrs:{id:"最好的情况是-自己已经备份了tendermint-密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最好的情况是-自己已经备份了tendermint-密钥"}},[t._v("#")]),t._v(" 最好的情况是，自己已经备份了"),a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E5%A4%87%E4%BB%BD%E9%AA%8C%E8%AF%81%E4%BA%BA%E8%8A%82%E7%82%B9"}},[t._v("Tendermint 密钥")])]),t._v(" "),a("p",[t._v("那么您可以执行以下操作：")]),t._v(" "),a("ul",[a("li",[t._v("停止节点")]),t._v(" "),a("li",[t._v("用您的备份替换当前的 "),a("code",[t._v("<plugchaind-home>/config/priv_validator.json")])]),t._v(" "),a("li",[t._v("通过"),a("code",[t._v("plugchaind tendermint show-validator --home=<plugchaind-home>")]),t._v(" 确认 "),a("code",[t._v("Consensus Pubkey")]),t._v(" 是正确的")]),t._v(" "),a("li",[t._v("启动节点")]),t._v(" "),a("li",[t._v("完成同步后，检查"),a("code",[t._v("voting_power")]),t._v("现在应该大于0："),a("code",[t._v("plugchaind status")])])]),t._v(" "),a("h4",{attrs:{id:"如果我丢失了tendermint密钥怎么办"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如果我丢失了tendermint密钥怎么办"}},[t._v("#")]),t._v(" 如果我丢失了Tendermint密钥怎么办")]),t._v(" "),a("p",[t._v("这意味着您 **永远失去了您的验证人！**您只能创建一个新的验证人，并将所有通证"),a("RouterLink",{attrs:{to:"/zh/cli-client/staking.html#plugchaind-tx-staking-redelegate"}},[t._v("转委托")]),t._v("给新的验证人。")],1)])}),[],!1,null,null,null);a.default=n.exports}}]);