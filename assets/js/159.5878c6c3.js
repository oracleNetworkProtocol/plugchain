(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{480:function(t,a,s){"use strict";s.r(a);var e=s(15),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"加入主网"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#加入主网"}},[t._v("#")]),t._v(" 加入主网")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("需要先 "),a("RouterLink",{attrs:{to:"/zh/get-started/install.html"}},[t._v("安装 plugchaind")]),t._v(",或者下载对应版本的二进制文件 "),a("a",{attrs:{href:"https://github.com/oracleNetworkProtocol/plugchain/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("releases"),a("OutboundLink")],1)],1)]),t._v(" "),a("h2",{attrs:{id:"运行全节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行全节点"}},[t._v("#")]),t._v(" 运行全节点")]),t._v(" "),a("h3",{attrs:{id:"使用创世文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用创世文件"}},[t._v("#")]),t._v(" 使用创世文件")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("必须使用 Plug Chain "),a("a",{attrs:{href:"https://github.com/oracleNetworkProtocol/plugchain.git",target:"_blank",rel:"noopener noreferrer"}},[t._v("v1.1.0"),a("OutboundLink")],1),t._v(" 初始化你的节点")])]),t._v(" "),a("ol",[a("li",[t._v("初始化节点")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("plugchaind init "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("moniker"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" --chain-id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("plugchain_520-1\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("下载主网公开的 "),a("code",[t._v("genesis.json")]),t._v(","),a("code",[t._v("app.toml")]),t._v(","),a("code",[t._v("config.toml")]),t._v(":")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" ~/.plugchain/config/genesis.json https://raw.githubusercontent.com/oracleNetworkProtocol/mainnet/main/version/v1/genesis.json\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" ~/.plugchain/config/app.toml https://raw.githubusercontent.com/oracleNetworkProtocol/mainnet/main/version/v1/app.toml\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" ~/.plugchain/config/config.toml https://raw.githubusercontent.com/oracleNetworkProtocol/mainnet/main/version/v1/config.toml\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("启动之前如果想修改服务端口,种子信息，对等点，哨兵模式等，可自行修改文件，然后再同步区块。")])]),t._v(" "),a("h3",{attrs:{id:"同步区块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#同步区块"}},[t._v("#")]),t._v(" 同步区块")]),t._v(" "),a("p",[t._v("同步主网块数据")]),t._v(" "),a("h4",{attrs:{id:"一-快照同步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-快照同步"}},[t._v("#")]),t._v(" 一 快照同步")]),t._v(" "),a("p",[t._v("根据快照高度，锁定"),a("code",[t._v("plugchaind")]),t._v("二进制版本使用")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("块高")]),t._v(" "),a("th",[t._v("数据库")]),t._v(" "),a("th",[t._v("plugchaind 版本")]),t._v(" "),a("th",[t._v("下载地址")]),t._v(" "),a("th",[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("8021377")]),t._v(" "),a("td",[t._v("goleveldb (default）")]),t._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/oracleNetworkProtocol/plugchain/releases/tag/v1.7.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("v1.7"),a("OutboundLink")],1)]),t._v(" "),a("td",[a("a",{attrs:{href:"https://snapshot-node-mainnet.oss-cn-hangzhou.aliyuncs.com/mainnet-8021377-20230201-goleveldb.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("mainnet-8021377-20230201-goleveldb.zip"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("（130.654GB） 裁剪数据")])])])]),t._v(" "),a("ol",[a("li",[t._v("下载快照数据")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-b")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" https://snapshot-node-mainnet.oss-cn-hangzhou.aliyuncs.com/mainnet-8021377-20230201-goleveldb.zip\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[t._v("解压数据覆盖 "),a("code",[t._v("~/.plugchain/data/")]),t._v(" 目录")])]),t._v(" "),a("li",[a("p",[t._v("使用 对应plugchaind版本启动 "),a("code",[t._v("plugchaind start")])])])]),t._v(" "),a("h4",{attrs:{id:"二-逐步升级同步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-逐步升级同步"}},[t._v("#")]),t._v(" 二 逐步升级同步")]),t._v(" "),a("p",[t._v("启动节点服务")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动节点（也可使用 nohup 或 systemd 等方式后台运行）")]),t._v("\n\nplugchaind start\n")])])]),a("p",[t._v("接下来，你的节点将执行所有链升级过程。在每次升级之间，你必须使用特定的版本同步区块。不用担心在升级高度使用旧版本，节点会自动停止。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("提案")]),t._v(" "),a("th",[t._v("提案高度")]),t._v(" "),a("th",[t._v("升级高度")]),t._v(" "),a("th",[t._v("plugchaind 版本")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"https://www.plugchain.network/v2/communityDetail?id=7",target:"_blank",rel:"noopener noreferrer"}},[t._v("v1.0"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("3000000")]),t._v(" "),a("td"),t._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/oracleNetworkProtocol/plugchain/releases/tag/v1.1.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("v1.1.0"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://www.plugchain.network/v2/communityDetail?id=8",target:"_blank",rel:"noopener noreferrer"}},[t._v("v1.2.1"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("3349542")]),t._v(" "),a("td",[t._v("3576853")]),t._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/oracleNetworkProtocol/plugchain/releases/tag/v1.2.1",target:"_blank",rel:"noopener noreferrer"}},[t._v("v1.2.1"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://www.plugchain.network/v2/communityDetail?id=9",target:"_blank",rel:"noopener noreferrer"}},[t._v("v1.5.0"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("3935641")]),t._v(" "),a("td",[t._v("4152263")]),t._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/oracleNetworkProtocol/plugchain/releases/tag/v1.5.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("v1.5.0"),a("OutboundLink")],1)])]),t._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://www.plugchain.network/v2/communityDetail?id=10",target:"_blank",rel:"noopener noreferrer"}},[t._v("v1.7"),a("OutboundLink")],1)]),t._v(" "),a("td",[t._v("5420512")]),t._v(" "),a("td",[t._v("5633000")]),t._v(" "),a("td",[a("a",{attrs:{href:"https://github.com/oracleNetworkProtocol/plugchain/releases/tag/v1.7.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("v1.7.0"),a("OutboundLink")],1)])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("您可能会看到一些连接错误，这没关系，P2P网络正在尝试查找可用的连接")])]),t._v(" "),a("h2",{attrs:{id:"升级为验证人节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#升级为验证人节点"}},[t._v("#")]),t._v(" 升级为验证人节点")]),t._v(" "),a("h3",{attrs:{id:"创建钱包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建钱包"}},[t._v("#")]),t._v(" 创建钱包")]),t._v(" "),a("p",[t._v("您可以"),a("RouterLink",{attrs:{to:"/zh/cli-client/keys.html#创建密钥"}},[t._v("创建新的钱包")]),t._v("或"),a("RouterLink",{attrs:{to:"/zh/cli-client/keys.html#通过助记词恢复密钥"}},[t._v("导入现有的钱包")]),t._v("，然后从交易所或其他任何地方转入一些plug到您刚刚创建的钱包中：")],1),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建一个新钱包")]),t._v("\nplugchaind keys "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("key-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("在安全的地方备份好助记词！如果您忘记密码，这是恢复帐户的唯一方法。")])]),t._v(" "),a("h3",{attrs:{id:"确认节点同步状态"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#确认节点同步状态"}},[t._v("#")]),t._v(" 确认节点同步状态")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 可以使用此命令安装 jq")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# apt-get update && apt-get install -y jq")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果输出为 false，则表明您的节点已经完成同步")]),t._v("\nplugchaind status "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" jq "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-r")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.SyncInfo.catching_up'")]),t._v("\n")])])]),a("h3",{attrs:{id:"创建验证人"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建验证人"}},[t._v("#")]),t._v(" 创建验证人")]),t._v(" "),a("p",[t._v("只有节点已完成同步时，才可以运行以下命令将您的节点升级为验证人：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("plugchaind tx staking create-validator "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--from")]),t._v(" mywallet "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--amount")]),t._v(" 1000000uplugcn "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--pubkey")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("plugchaind tendermint show-validator"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--moniker")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my validator"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--commission-rate"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.10"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--commission-max-rate"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.20"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--commission-max-change-rate"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.01"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n--min-self-delegation"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1000000"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--fees")]),t._v(" 20uplugcn --chain-id plugchain_520-1\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[a("strong",[t._v("重要")])]),t._v(" "),a("p",[t._v("一定要备份好 home（默认为〜/.plugchain/）目录中的 "),a("code",[t._v("config")]),t._v(" 目录！如果您的服务器磁盘损坏或您准备迁移服务器，这是恢复验证人的唯一方法。")])]),t._v(" "),a("p",[t._v("如果以上命令没有出现错误，则您的节点已经是验证人或候选人了（取决于您的Voting Power是否在前50名中）")])])}),[],!1,null,null,null);a.default=r.exports}}]);