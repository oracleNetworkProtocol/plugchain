(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{462:function(a,t,s){"use strict";s.r(t);var e=s(15),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"本地测试网"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地测试网"}},[a._v("#")]),a._v(" 本地测试网")]),a._v(" "),t("p",[a._v("出于测试或开发目的，您可能需要运行本地测试网。")]),a._v(" "),t("h2",{attrs:{id:"单节点测试网"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单节点测试网"}},[a._v("#")]),a._v(" 单节点测试网")]),a._v(" "),t("p",[t("strong",[a._v("需求")])]),a._v(" "),t("ul",[t("li",[t("RouterLink",{attrs:{to:"/zh/get-started/install.html"}},[a._v("安装plugchaind")])],1)]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),t("p",[a._v("对于以下示例，我们全部使用默认的"),t("RouterLink",{attrs:{to:"/zh/daemon/intro.html#主目录"}},[a._v("主目录")])],1)]),a._v(" "),t("h3",{attrs:{id:"plugchaind-init"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugchaind-init"}},[a._v("#")]),a._v(" plugchaind init")]),a._v(" "),t("p",[a._v("初始化 genesis.json 文件，它将帮助你启动网络")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("plugchaind init testing --chain-id"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("plugchain_521-1\n")])])]),t("h3",{attrs:{id:"创建一个钱包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建一个钱包"}},[a._v("#")]),a._v(" 创建一个钱包")]),a._v(" "),t("p",[a._v("创建一个钱包作为您的验证人帐户")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("plugchaind keys "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" MyValidator\n")])])]),t("h3",{attrs:{id:"plugchaind-add-genesis-account"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugchaind-add-genesis-account"}},[a._v("#")]),a._v(" plugchaind add-genesis-account")]),a._v(" "),t("p",[a._v("将该钱包地址添加到 genesis 文件中的 genesis.app_state.accounts 数组中")]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),t("p",[a._v("此命令使您可以设置通证数量。确保此帐户有 "),t("code",[a._v("pc")]),a._v("，这是 Plug Chain Hub 上唯一的质押通证")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("plugchaind add-genesis-account "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("plugchaind keys show MyValidator "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--address")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v(" 150000000uplugcn\n")])])]),t("h3",{attrs:{id:"plugchaind-gentx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugchaind-gentx"}},[a._v("#")]),a._v(" plugchaind gentx")]),a._v(" "),t("p",[a._v("生成创建验证人的交易。gentx 存储在 "),t("code",[a._v("~/.plugchain/config/")]),a._v(" 中")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("plugchaind gentx MyValidator 100000000uplugcn --chain-id"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("plugchain_521-1 \n")])])]),t("h3",{attrs:{id:"plugchaind-collect-gentxs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugchaind-collect-gentxs"}},[a._v("#")]),a._v(" plugchaind collect-gentxs")]),a._v(" "),t("p",[a._v("将生成的质押交易添加到创世文件")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("plugchaind collect-gentxs\n")])])]),t("h3",{attrs:{id:"plugchaind-start"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugchaind-start"}},[a._v("#")]),a._v(" plugchaind start")]),a._v(" "),t("p",[a._v("修改默认token为 "),t("code",[a._v("pc")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'s/stake/pc/g'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$HOME")]),a._v("/.plugchain/config/genesis.json\n")])])]),t("p",[a._v("现在可以启动 "),t("code",[a._v("plugchaind")]),a._v(" 了")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("plugchaind start\n")])])]),t("h3",{attrs:{id:"plugchaind-unsafe-reset-all"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugchaind-unsafe-reset-all"}},[a._v("#")]),a._v(" plugchaind unsafe-reset-all")]),a._v(" "),t("p",[a._v("可以使用此命令来重置节点，包括本地区块链数据库，地址簿文件，并将 priv_validator.json 重置为创世状态。")]),a._v(" "),t("p",[a._v("当本地区块链数据库以某种方式中断和无法同步或参与共识时，这是有用的。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("plugchaind unsafe-reset-all\n")])])]),t("h3",{attrs:{id:"plugchaind-tendermint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugchaind-tendermint"}},[a._v("#")]),a._v(" plugchaind tendermint")]),a._v(" "),t("p",[a._v("查询可以在 p2p 连接中使用的唯一节点 ID，例如在 "),t("RouterLink",{attrs:{to:"/zh/daemon/intro.html#cnofig-toml"}},[a._v("config.toml")]),a._v(" 中 "),t("code",[a._v("seeds")]),a._v(" 和 "),t("code",[a._v("persistent_peers")]),a._v(" 的格式 "),t("code",[a._v("<node-id>@ip:26656")]),a._v("。")],1),a._v(" "),t("p",[a._v("节点 ID 存储在 "),t("RouterLink",{attrs:{to:"/zh/daemon/intro.html#node_key-json"}},[a._v("node_key.json")]),a._v(" 中。")],1),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("plugchaind tendermint show-node-id\n")])])]),t("p",[a._v("查询 "),t("RouterLink",{attrs:{to:"/zh/concepts/validator-faq.html#tendermint-密钥"}},[a._v("Tendermint Pubkey")]),a._v("，用于 "),t("RouterLink",{attrs:{to:"/zh/cli-client/staking.html#plugchaind-tx-staking-create-validator"}},[a._v("identify your validator")]),a._v("，并将用于在共识过程中签署 Pre-vote/Pre-commit。")],1),a._v(" "),t("p",[t("RouterLink",{attrs:{to:"/zh/concepts/validator-faq.html#tendermint-密钥"}},[a._v("Tendermint Key")]),a._v(" 存储在 "),t("RouterLink",{attrs:{to:"/zh/daemon/intro.html#priv_validator-json"}},[a._v("priv_validator.json")]),a._v(" 中，创建验证人后，请一定要记得"),t("RouterLink",{attrs:{to:"/zh/concepts/validator-faq.html#如何备份验证人节点"}},[a._v("备份")]),a._v("。")],1),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("plugchaind tendermint show-validator\n")])])]),t("p",[a._v("查询bech32前缀验证人地址")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("plugchaind tendermint show-address\n")])])]),t("h3",{attrs:{id:"plugchaind-export"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugchaind-export"}},[a._v("#")]),a._v(" plugchaind export")]),a._v(" "),t("p",[a._v("请参阅"),t("RouterLink",{attrs:{to:"/zh/daemon/export.html"}},[a._v("导出区块状态")]),a._v("。")],1)])}),[],!1,null,null,null);t.default=n.exports}}]);