(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{456:function(t,a,s){"use strict";s.r(a);var n=s(15),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"代币标准"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代币标准"}},[t._v("#")]),t._v(" 代币标准")]),t._v(" "),a("h2",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),a("p",[t._v("Plug Chain 是一个基于 Cosmos SDK 的链，具有完整的 PVM 支持。由于这种架构，网络中的代币和资产可能来自不同的独立来源：bank模块，token模块，evm模块。\n"),a("code",[t._v("bank模块，token模块代币 属于PRC-10协议")]),t._v("，"),a("code",[t._v("pvm模块属于PRC-20协议")]),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"pc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pc"}},[t._v("#")]),t._v(" PC")]),t._v(" "),a("p",[t._v("PC是Plug Chain 上最主要的加密货币，应用场景广泛 ，网络上的奖励以PC的形式发放，用户只能通过质押PC来获得资源以及投票权。而在DeFi借贷市场中，PC还被用作主要的抵押品，在NFT市场中，PC被用作记账单位，等等。")]),t._v(" "),a("p",[t._v("Plug Chain允许开发人员构建去中心化应用程序，也叫DAPP，这些应用程序共享有限的Plug Chain资源，因此，Plug Chain需要一种机制来防止DAPP意外或恶意地占用所有网络资源。")]),t._v(" "),a("h3",{attrs:{id:"铸造pc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#铸造pc"}},[t._v("#")]),t._v(" 铸造PC")]),t._v(" "),a("p",[t._v("铸造就是在Plug Chain网络上创建新PC的过程。只有Plug  Chain网络协议可以创建新的PC，用户不可能创建出PC。")]),t._v(" "),a("p",[t._v("当一个验证这节点在Plug Chain网络上生产一个区块后，一定量的PC被铸造。对于每个新区块，目前网络大约有130PC出块奖励。出块奖励为Plug Chain网络动态参数，可以通过提案提议来修改。")]),t._v(" "),a("h3",{attrs:{id:"燃烧pc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#燃烧pc"}},[t._v("#")]),t._v(" 燃烧PC")]),t._v(" "),a("p",[t._v("PC可以通过一个叫做“燃烧”的过程被摧毁。当PC被燃烧时，它会被永久减除。")]),t._v(" "),a("p",[t._v("Plug Chain上的每笔交易都需要燃烧PC来支付交易所需的资源。PC的燃烧不但可以有助于降低PC的通胀，而且还可以防止意外或者恶意的交易占用Plug Chain资源。")]),t._v(" "),a("h3",{attrs:{id:"pc面额"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pc面额"}},[t._v("#")]),t._v(" PC面额")]),t._v(" "),a("p",[t._v("由于Plug Chain上的许多交易涉及到的金额较小，因此Plug Chain引入了最小的货币单位"),a("code",[t._v("uplugcn")]),t._v("，许多应用的技术实现都是基于"),a("code",[t._v("uplugcn")]),t._v("进行计算的，PC和uplugcn的换算如下：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("1 pc = 1000000 uplugcn\n")])])]),a("h3",{attrs:{id:"查询pc余额"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询pc余额"}},[t._v("#")]),t._v(" 查询PC余额")]),t._v(" "),a("ul",[a("li",[t._v("Restful API")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('curl -X GET "http://8.210.78.114:1317/cosmos/bank/v1beta1/balances/gx1v6574fxhha5cwrhkgv6ddlmraue0fc8thr3gpe/by_denom?denom=uplugcn" -H  "accept: application/json"\n')])])]),a("h2",{attrs:{id:"prc-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prc-10"}},[t._v("#")]),t._v(" PRC-10")]),t._v(" "),a("p",[t._v("PRC-10是一种是通过 Plug Chain 公链内置的通证。与PRC-20代币相比，PRC-10代币面临用户 体验灵活性问题。在 Plug Chain 网络中，每个帐户都能够通过"),a("RouterLink",{attrs:{to:"/zh/cli-client/token.html"}},[a("code",[t._v("x/prc10")])]),t._v("模块发行PRC-10代币。 用户可以单独锁定其代币。 要发放代币，发行者需要指定代币名称、总大小、精度、描述、等信息。")],1),t._v(" "),a("p",[t._v("代币 "),a("code",[t._v("pc")]),t._v(","),a("code",[t._v("dhw1")]),t._v(","),a("code",[t._v("kingdm")]),t._v(","),a("code",[t._v("joey")]),t._v("等都属于 PRC-10 协议代币")]),t._v(" "),a("h3",{attrs:{id:"查询prc-10余额"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询prc-10余额"}},[t._v("#")]),t._v(" 查询PRC-10余额")]),t._v(" "),a("ul",[a("li",[t._v("Restful API")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('curl -X GET "http://8.210.78.114:1317/cosmos/bank/v1beta1/balances/gx1v6574fxhha5cwrhkgv6ddlmraue0fc8thr3gpe/by_denom?denom=dhw1" -H  "accept: application/json"\n')])])]),a("h2",{attrs:{id:"prc-20"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prc-20"}},[t._v("#")]),t._v(" PRC-20")]),t._v(" "),a("p",[t._v("PRC-20是为发行通证资产而制定的一套合约标准，即遵守这一标准编写的合约都被认为是一个PRC-20合约。当各类钱包、交易所在对接PRC-20合约的资产时，从这套合约标准中就可以知道这个合约定义了哪些函数、事件，从而方便的进行对接。")]),t._v(" "),a("h3",{attrs:{id:"合约标准"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合约标准"}},[t._v("#")]),t._v(" 合约标准")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("contract "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PRC20")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("symbol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decimals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uint8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("totalSupply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" constant "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uint theTotalSupply"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("balanceOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _owner")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" constant "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uint balance"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transfer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint _value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bool success"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transferFrom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address _to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint _value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bool success"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("approve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _spender"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint _value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bool success"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("allowance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _owner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address _spender")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" constant "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uint remaining"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    event "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Transfer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address indexed _from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address indexed _to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint _value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    event "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Approval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address indexed _owner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address indexed _spender"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint _value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("p",[t._v("name()\n这个方法返回发布合约时设置的通证名称")]),t._v(" "),a("p",[t._v("symbol()\n这个方法返回通证缩写")]),t._v(" "),a("p",[t._v("decimals()\n这个方法返回通证精度")]),t._v(" "),a("p",[t._v("totalSupply()\n这个方法返回通证总的发行量。")]),t._v(" "),a("p",[t._v("balanceOf(address _owner)\n这个方法返回查询账户的通证余额。")]),t._v(" "),a("p",[t._v("transfer(address _to, uint _value)\n这个方法用来从智能合约地址里转账通证到指定账户。")]),t._v(" "),a("p",[t._v("approve(address _spender, uint _value)\n这个方法用来授权第三方（例如DAPP合约）从通证拥有者账户转账通证。")]),t._v(" "),a("p",[t._v("transferFrom(address _from, address _to, uint _value)\n这个方法可供第三方从通证拥有者账户转账通证。需要配合approve()方法使用。")]),t._v(" "),a("p",[t._v("allowance(address _owner, address _spender)\n这个方法用来查询可供第三方转账的查询账户的通证余额。")]),t._v(" "),a("p",[t._v("事件函数\n当通证被成功转账后，会触发Transfer转账事件。")]),t._v(" "),a("p",[t._v("event Transfer(address indexed _from, address indexed _to, uint256 _value)\n当approve()方法被成功调用后，会触发Approval事件。")]),t._v(" "),a("p",[t._v("event Approval(address indexed _owner, address indexed _spender, uint256 _value)")]),t._v(" "),a("h2",{attrs:{id:"prc-721"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prc-721"}},[t._v("#")]),t._v(" PRC-721")]),t._v(" "),a("p",[t._v("PRC-721是在Plug Chain公链上发行非同质化代币（non-fungible token, NFT）一套标准接口，与ERC-721完全兼容。由于 PRC-721 中的每个代币都是唯一的，因此 PRC-20 标准不足以处理 NFT。")]),t._v(" "),a("h3",{attrs:{id:"必须实现的接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#必须实现的接口"}},[t._v("#")]),t._v(" 必须实现的接口")]),t._v(" "),a("p",[t._v("每个符合PRC-721标准的智能合约都必须实现PRC721与PRC165接口。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("   pragma solidity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PRC721")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    event "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Transfer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address indexed _from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address indexed _to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 indexed _tokenId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    event "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Approval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address indexed _owner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address indexed _approved"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 indexed _tokenId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    event "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ApprovalForAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address indexed _owner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address indexed _operator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bool _approved"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("balanceOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _owner")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uint256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ownerOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("uint256 _tokenId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("safeTransferFrom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address _to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 _tokenId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bytes data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external payable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("safeTransferFrom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address _to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 _tokenId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external payable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transferFrom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address _to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 _tokenId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external payable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("approve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _approved"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 _tokenId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external payable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setApprovalForAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _operator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bool _approved")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getApproved")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("uint256 _tokenId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isApprovedForAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _owner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address _operator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PRC165")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("supportsInterface")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("bytes4 interfaceID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("balanceOf(address _owner)\n返回指定账户拥有的 NFT 数量")]),t._v(" "),a("p",[t._v("ownerOf(uint256 _tokenId)\n返回指定 NFT 的所有者")]),t._v(" "),a("p",[t._v("safeTransferFrom(address _from, address _to, uint256 _tokenId, bytes data)\n转让 NFT 的所有权")]),t._v(" "),a("p",[t._v("safeTransferFrom(address _from, address _to, uint256 _tokenId)\n转让 NFT 的所有权")]),t._v(" "),a("p",[t._v("transferFrom(address _from, address _to, uint256 _tokenId)\n转让一个NFT的所有权（调用者必须确认_to地址是否可以正常接收NFT，否则NFT会丢失）")]),t._v(" "),a("p",[t._v("approve(address _approved, uint256 _tokenId)\n授予其他人 NFT 的控制权")]),t._v(" "),a("p",[t._v("setApprovalForAll(address _operator, bool _approved)\n由第三方 (_operator) 授予/恢复对所有 NFT 的控制权")]),t._v(" "),a("p",[t._v("getApproved(uint256 _tokenId)\n查询某个 NFT 的授权")]),t._v(" "),a("p",[t._v("isApprovedForAll(address _owner, address _operator)\n查询operator是否为owner的授权地址")]),t._v(" "),a("p",[t._v("supportsInterface(bytes4 interfaceID)\n查询是否支持某个接口（interfaceID）")]),t._v(" "),a("p",[t._v("event Approval(address indexed _owner, address indexed _approved, uint256 indexed _tokenId)\nApprove 成功后会触发 Approval 事件")]),t._v(" "),a("p",[t._v("event Transfer(address indexed _from, address indexed _to, uint256 indexed _tokenId)\n成功的 transferFrom 和 safeTransferFrom 将触发 Transfer 事件")]),t._v(" "),a("p",[t._v("event ApprovalForAll(address indexed _owner, address indexed _operator, bool _approved)\nsetApprovalForAll 成功后会触发 ApprovalForAll 事件")]),t._v(" "),a("p",[t._v("合约如果需要接受安全转账，必须实现PRC721TokenReceiver接口:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PRC721TokenReceiver")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//This method will be triggered when the ‘_to’ is the contract address during the ‘safeTransferFrom’ execution, and the return value must be checked, If the return value is not  bytes4(keccak256("onPRC721Received(address,address,uint256,bytes)")) throws an exception. The smart contract which can receive NFT must implement the PRC721TokenReceiver interface.')]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onPRC721Received")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _operator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address _from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 _tokenId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bytes _data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external                "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bytes4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("onPRC721Received(address _operator, address _from, uint256 _tokenId, bytes _data)")]),t._v(" "),a("p",[t._v('与safeTransferFrom方法配合使用，当_to为合约地址时，需要调用该方法并检查返回值。 如果返回值不是 bytes4(keccak256("onPRC721Received(address,address,uint256,bytes)")) 将抛出异常。 可以接收 NFT 的智能合约必须实现 PRC721TokenReceiver 接口。')]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v('bytes4(keccak256("onPRC721Received(address,address,uint256,bytes))) 的哈希值与以太坊版本 bytes4(keccak256("onERC721Received(address,address,uint256,bytes))) 不同。 对于函数onPRC721Received的返回值，请使用0x14ce6b03而不是0x150b7a02。')])]),t._v(" "),a("h3",{attrs:{id:"metadata-extensions接口-可选"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#metadata-extensions接口-可选"}},[t._v("#")]),t._v(" Metadata Extensions接口（可选）")]),t._v(" "),a("p",[t._v("metadata extension接口对于PRC-721智能合约来说是可选的，用户可以查询智能合约的名称以及NFT代表的资产的详细信息。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PRC721Metadata")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string _name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("symbol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string _symbol"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tokenURI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("uint256 _tokenId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("name()\n返回合约名称")]),t._v(" "),a("p",[t._v("symbol()\n返回合约代码")]),t._v(" "),a("p",[t._v("tokenURI(uint256 _tokenId)\n返回 _tokenId 对应的外部文件的 URI。 外部资源文件需要包括名称、描述和图片。")]),t._v(" "),a("h3",{attrs:{id:"enumeration-extension接口-可选"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enumeration-extension接口-可选"}},[t._v("#")]),t._v(" enumeration extension接口（可选）")]),t._v(" "),a("p",[t._v("enumeration extension对于PRC-721智能合约是可选的，允许用户的智能合约发布其NFT的完整列表并使其可见。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PRC721Enumerable")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("totalSupply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uint256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tokenByIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("uint256 _index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uint256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tokenOfOwnerByIndex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _owner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 _index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uint256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("totalSupply()\n返回 NFT 的总量")]),t._v(" "),a("p",[t._v("tokenByIndex(uint256 _index)\n通过_index返回对应的tokenId")]),t._v(" "),a("p",[t._v("tokenOfOwnerByIndex(address _owner, uint256 _index)\n返回所有者拥有的 NFT 列表中索引对应的 tokenId")]),t._v(" "),a("h2",{attrs:{id:"prc1155"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prc1155"}},[t._v("#")]),t._v(" PRC1155")]),t._v(" "),a("p",[t._v("用于多种代币管理的合约标准接口。 单个部署的合约可以包括同质化代币、非同质化代币或其他配置（如半同质化代币）的任何组合。")]),t._v(" "),a("h3",{attrs:{id:"必须实现的接口-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#必须实现的接口-2"}},[t._v("#")]),t._v(" 必须实现的接口")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("pragma solidity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".9")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PRC1155")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    event "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("TransferSingle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address indexed _operator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address indexed _from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address indexed _to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 _id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 _value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    event "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("TransferBatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address indexed _operator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address indexed _from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address indexed _to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" _ids"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" _values"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    event "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ApprovalForAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("address indexed _owner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address indexed _operator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bool _approved"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    event "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URI")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string _value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 indexed _id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("safeTransferFrom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address _to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 _id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 _value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bytes calldata _data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("safeBatchTransferFrom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address _to"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" calldata _ids"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" calldata _values"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bytes calldata _data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("balanceOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _owner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 _id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uint256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("balanceOfBatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" calldata _owners"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" calldata _ids")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("uint256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" memory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setApprovalForAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _operator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bool _approved")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isApprovedForAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _owner"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address _operator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("function safeTransferFrom(address _from, address _to, uint256 _id, uint256 _value, bytes calldata _data)\n安全单币转账，将amount单位id种类的代币从from地址转账给to地址。如果to地址是合约，则会验证是否实现了onERC1155Received()接收函数。")]),t._v(" "),a("p",[t._v("function safeBatchTransferFrom(address _from, address _to, uint256[] calldata _ids, uint256[] calldata _values, bytes calldata _data)\n安全多币转账，与单币转账类似，只不过转账数量amounts和代币种类ids变为数组，且长度相等。如果to地址是合约，则会验证是否实现了onERC1155BatchReceived()接收函数。")]),t._v(" "),a("p",[t._v("function balanceOf(address _owner, uint256 _id)\n单币种余额查询，返回account拥有的id种类的代币的持仓量。")]),t._v(" "),a("p",[t._v("function balanceOfBatch(address[] calldata _owners, uint256[] calldata _ids)\n多币种余额查询，查询的地址accounts数组和代币种类ids数组的长度要相等。")]),t._v(" "),a("p",[t._v("function setApprovalForAll(address _operator, bool _approved)\n批量授权，将调用者的代币授权给operator地址。。")]),t._v(" "),a("p",[t._v("function isApprovedForAll(address _owner, address _operator)\n查询批量授权信息，如果授权地址operator被account授权，则返回true。")]),t._v(" "),a("p",[t._v("event TransferSingle(address indexed _operator, address indexed _from, address indexed _to, uint256 _id, uint256 _value)\n单类代币转账事件，在单币种转账时释放。")]),t._v(" "),a("p",[t._v("event TransferBatch(address indexed _operator, address indexed _from, address indexed _to, uint256[] _ids, uint256[] _values)\n批量代币转账事件，在多币种转账时释放。")]),t._v(" "),a("p",[t._v("event ApprovalForAll(address indexed _owner, address indexed _operator, bool _approved)\n批量授权事件，在批量授权时释放。")]),t._v(" "),a("p",[t._v("event URI(string _value, uint256 indexed _id)\n元数据地址变更事件，在uri变化时释放。")]),t._v(" "),a("p",[t._v("合约如果需要接受安全转账，必须实现PRC1155TokenReceiver接口:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PRC1155TokenReceiver")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onPRC1155Received")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _operator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address _from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 _id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256 _value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bytes calldata _data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bytes4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onPRC1155BatchReceived")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("address _operator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" address _from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" calldata _ids"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" uint256"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" calldata _values"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bytes calldata _data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bytes4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("function onPRC1155Received(address _operator, address _from, uint256 _id, uint256 _value, bytes calldata _data)\n单币转账接收函数，接受PRC1155安全转账safeTransferFrom 需要实现并返回自己的选择器"),a("code",[t._v("0xca78c6ac")]),t._v("。")]),t._v(" "),a("p",[t._v("function onPRC1155BatchReceived(address _operator, address _from, uint256[] calldata _ids, uint256[] calldata _values, bytes calldata _data)\n多币转账接收函数，接受PRC1155安全多币转账safeBatchTransferFrom 需要实现并返回自己的选择器"),a("code",[t._v("0xd12c9bf8")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"metadata-extensions接口-可选-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#metadata-extensions接口-可选-2"}},[t._v("#")]),t._v(" Metadata Extensions接口（可选）")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PRC1155Metadata_URI")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("uri")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("uint256 _id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" external view "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("string memory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("function uri(uint256 _id)\n返回第"),a("code",[t._v("id")]),t._v("种类代币的URI")]),t._v(" "),a("h2",{attrs:{id:"合约示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合约示例"}},[t._v("#")]),t._v(" 合约示例")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/oracleNetworkProtocol/PVM-Contract-Template/",target:"_blank",rel:"noopener noreferrer"}},[t._v("模板"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"部署合约"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署合约"}},[t._v("#")]),t._v(" 部署合约")]),t._v(" "),a("ul",[a("li",[t._v("请移步到"),a("RouterLink",{attrs:{to:"/zh/pvm/prc-20-contract-zh.html"}},[t._v("合约部署")])],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);